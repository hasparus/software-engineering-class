<html lang="en-US" class="">
  <head>
    <title>System Development Concept</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="right-corner">
      <section class="sunset">
        <article id="icon" class="centerer">
          <svg 
            xmlns="http://www.w3.org/2000/svg" 
            xmlns:xlink="http://www.w3.org/1999/xlink" 
            version="1.1" 
            viewBox="40 -40 100 125"
            enable-background="new 40 -40 100 100"
            xml:space="preserve"
          >
            <circle cx="101.681" cy="-29.221" r="8.28"/>
            <path d="M113.256,0.781l-7.42-1.402l-2.361-10.111l-1.986,15.304c0.044,0.031,0.083,0.066,0.131,0.095  c0.456,0.285,10.759,2.028,10.884,2.028c1.162,0,2.256-1.06,2.53-2.53C115.343,2.548,114.544,1.032,113.256,0.781z"/>
            <path d="M106.792,53.96l-8.263-33.738c-0.275,0.451-0.558,0.874-0.821,1.266c-0.388,0.574-0.787,1.165-0.889,1.498  c-0.74,2.43-1.949,7.062-2.965,11.059l7.434,21.253c0.261,1.076,1.916,2.513,3.435,2.143  C106.243,57.07,107.054,55.034,106.792,53.96z"/>
            <path d="M93.66,6.246L93.191,5.61c4.589-7.804,9.293-17.896,9.459-22.396c-0.61-1.74-2.374-2.641-4.517-3.011  c-2.665-0.459-5.037,0.079-5.936,2.621c0,0-7.101,12.324-9.633,16.601c-0.323,0.545-0.465,0.949-0.171,1.619  c0.14,0.319,1.729,2.564,3.3,4.705c0.001-0.001,0.001-0.002,0.002-0.003c-1.658,2.851-3.433,6.485-3.4,8.934  c0.045,3.338,1.462,4.54,2.447,4.715c0.013,0.002,0.1-1.163,0.095-1.231c0.112,0.029,0.228-0.165,0.353-0.165  c0.004,0,0.008,0,0.013,0c3.619,0,12.178-14.417,16.652-25.307l0.561-4.216c-1.77,5.195-5.161,12.281-8.543,18.102  C93.816,6.443,93.748,6.367,93.66,6.246z M86.399,6.57C86.399,6.57,86.4,6.571,86.399,6.57c-0.01,0.02-0.021,0.038-0.032,0.057  C86.378,6.608,86.388,6.589,86.399,6.57z M85.196,16.999c-0.001,0-0.002,0-0.004,0c-0.086,0-0.16,0.179-0.23,0.132l-0.127,1.132  c-0.992,0-1.498-1.583-1.526-3.645c-0.029-2.117,1.527-5.338,3.046-7.998c0.175,0.235,0.348,0.481,0.515,0.703  c0,0-2.563,4.77-2.546,7.342c0.004,0.65,0.148,2.19,0.647,2.676c0.035,0.034,0.148-1.479,0.211-1.239  c1.025-0.501,2.999-2.742,4.896-5.539c0.446,0.099,0.938-0.132,1.431-0.274C88.869,14.37,86.481,16.999,85.196,16.999z"/>
            <path d="M85.22,18.999c-0.006,0-0.013,0-0.02,0c-0.151,0-0.318,0.207-0.491,0.167l-1.723,14.086c0,0-14.919-4.286-15.248-4.286  c-1.048,0-2.347,0.519-2.724,1.51c-0.502,1.311,0.763,3.023,1.79,3.421l21.775,8.34c0.996,0.381,2.1-0.192,2.358-1.226  c0,0,3.304-13.48,4.792-18.36c0.412-1.347,2.72-3.498,3.069-6.184l2.576-20.08C96.656,6.944,89.246,18.999,85.22,18.999z"/>
          </svg>
        </article>
      </section>
    </div>
    <main>
      <h1>System Development Concept</h1>
      <section>
        <h1>Representative Use Cases</h1>
        <p>
          We have found use cases 3, 5.1 and 5.2 the most unique for our application. We will focus on them in this chapter. Following use cases will be written in Fowler style.
        </p>
      </section>
      <section>
        <h1>Representative Use Cases</h1>
        <p>
          We have found use cases 3, 5.1 and 5.2 the most unique for our application. We will focus on them in this chapter. Following use cases will be written in Fowler style.
        </p>
      </section>
      <section>
        <h1>Representative Use Cases: 3: Run planning</h1>
        <dl>
          <dt>Title:</dt>
          <dd><em>Runner</em> plans future run.</dd>
          <div>
            <dt>Main Success Scenario:</dt>
            <div>
              <dd class="use-case">
                <p>
                  User can go back and forward between steps 1 and 3 at any time.
                  Order [3, 4, 1, 2] is possible.
                </p>
                <ol>
                  <li class="step take-space">1. Runner draws a route aligned to the paths on the map.</li>
                  <li class="step take-space">2. System computes characteristics for the run and presents them to the user.</li>
                  <li class="step take-space">3. Runner selects the time for the run.</li>
                  <li class="step take-space">4. System checks weather and creates the run.</li>
                </ol>
              </dd>
            </div>
          </div>
          <div>
            <dt class="step take-space">Bad Weather — Extension 4a:</dt>
            <div>
              <dd class="use-case">
                <ol start="4">
                  <li class="step take-space">
                    4a. System checks the weather and notifies the runner about suboptimal weather conditions.
                  </li>
                  <div class="step take-space" style="font-weight: normal !important">
                    <li>
                      5. Runner resigns and exits the planning mode.
                    </li>
                    <li>
                      5a. Runner goes back to time selection (step 3).
                    </li>
                    <li>
                      5b. Runner decides he's all right with bad weather and confirms the run.
                    </li>  
                  </div>
                </ol>
              </dd>
            </div>
          </div>
        </dl>
      </section>
      <section>
        <h1>Wireframes for Use Case 3</h1>
        <article style="display: flex; flex-direction: row; width: 100%; flex-flow: row nowrap; align-items: center;">
          <img src="./assets/foo6.png" style="width: 33%; height: auto;">
          <img src="./assets/foo4.png" style="width: 33%; height: auto;">
          <img src="./assets/foo2.png" style="width: 33%; height: auto;">
        </article>
      </section>
      <section>
        <h1>Representative Use Cases: 5.1: Chat a run</h1>
        <dl>
          <dt>Title:</dt>
          <dd>Strangers are matched for a run.</dd>
          <div>
            <dt>Main Success Scenario:</dt>
            <div>
              <dd class="use-case">
                <ol>
                  <li class="step take-space">
                    1. System matches <em>Runners</em> based on their stats, time intersections and run history.
                  </li>
                  <li class="step take-space">
                    2. Proposed Route is computed.
                  </li>
                  <li class="step take-space">
                    3. System invites <em>Runners</em> for a conversation. Runners see an anonymized conversation and average stats.
                  </li>
                  <li class="step take-space">
                    4. <em>Runner</em> decides to join.
                  </li>
                  <div class="step take-space">
                    <p style="margin-bottom: 0;">Simultaneously</p>
                    <li>
                      5. Runners propose edits for the Route.
                    </li>
                    <li>
                      6. Runners chat about the run, using keywords (like "Hey buddy") and shortcut menu to interact with the system.
                    </li>
                  </div>
                  <li class="step take-space">
                    7. After more than half of the Runners decide (<i>RUN</i> or <i>PASS</i>) timeout is added to the Chat. When all decide or time is out the Run in the future is created.
                  </li>
                </ol>
              </dd>
            </div>
          </div>
          <div>
            <dt class="step take-space">Not in mood for a talk — Extension 4a:</dt>
            <div>
              <dd class="use-case">
                <ol start="4">
                  <li class="step take-space">
                    4a. <em>Runner</em> leaves the chat.
                  </li>
                </ol>
              </dd>
            </div>
          </div>
        </dl>
      </section>
      <section>
        <h1>Wireframes for Use Case 5.1</h1>
        <article style="display: flex; flex-direction: row; width: 100%; flex-flow: row nowrap; align-items: center;">
          <img src="./assets/foo5.png" style="width: 33%; height: auto;">
          <img src="./assets/foo3.png" style="width: 33%; height: auto;">
          <img src="./assets/foo1.png" style="width: 33%; height: auto;">
        </article>
      </section>
      <section>
        <h1>Representative Use Cases: 5.2: Join a friend</h1>
        <dl>
          <dt>Title:</dt>
          <dd>Runner joins a friend.</dd>
          <div>
            <dt>Main Success Scenario:</dt>
            <div>
              <dd class="use-case">
                <ol>
                  <li class="step take-space">
                    1. <em>Runner</em> sees his friends on the map.
                  </li>
                  <li class="step take-space">
                    2. <em>Runner</em> decides to join.
                  </li>
                  <li class="step take-space">
                    3. The <em>Runner</em> other gets a notification.
                  </li>
                </ol>
              </dd>
            </div>
          </div>
        </dl>
      </section>
      <section>
        <h1>Wireframes for Use Case 5.2</h1>
        <article style="display: flex; flex-direction: row; width: 100%; flex-flow: row nowrap; align-items: center;">
          <img src="./assets/Friends_on_map.png" style="width: auto; max-height: 500px;">
        </article>
      </section>
    </main>
    <article class="map"></article>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mousetrap/1.6.1/mousetrap.js">
  </script>
  <script>
    const map = (a, f) => Array.prototype.map.call(a, f);
    const forEach = (a, f) => Array.prototype.forEach.call(a, f);
    const bind = (...args) => args.forEach(entry => Mousetrap.bind(...entry));
    const readState = () => {
      const state = {};
      state.sections = map(document.querySelectorAll('main > section'),
        element => {
          console.log({element})
          element.classList.add('hidden');
          const steps = element.getElementsByClassName('step');
          forEach(steps, element => element.classList.toggle('hidden'));
          return { 
            element,
            steps,
            currentStep: -1,
          };
        }
      );
      state.currentSection = 0;
      state.currentSectElem = () => state.sections[state.currentSection].element;
      return state;
    }
    const state = readState();
    const toggleCurrent = () =>
      state.currentSectElem().classList.toggle('hidden');
    toggleCurrent();
    const createDot = (additionalClass) => {
      const dot = document.createElement('div');
      dot.className = "dot";
      if (additionalClass) {
        dot.classList.add(additionalClass);
      }
      return dot;
    }
    const minimap = (() => {
      const map = document.querySelector('article.map')
      state.sections.forEach(s => {
        const column = document.createElement('div');
        column.className = "column";
        column.appendChild(createDot("current-step"));
        forEach(s.steps, () => column.appendChild(createDot()));
        map.appendChild(column);
      })
      map.activeDot = map.children[state.currentSection].querySelector('.dot');
      map.activeDot.classList.add('active');
      return map;
    })();
    const updateActiveDot = (vertical) => {
      if (vertical) {
        minimap.activeDot.classList.remove('current-step');
      }
      minimap.activeDot.classList.remove('active');
      const i = state.currentSection;
      const j = state.sections[i].currentStep;
      minimap.activeDot = minimap.children[i].children[j + 1];
      minimap.activeDot.classList.add('active');
      if (vertical) {
        minimap.activeDot.classList.add('current-step');
      }
    }
    const goRight = () => {
      if (state.currentSection === state.sections.length - 1) return;
      toggleCurrent();
      state.currentSection += 1;
      toggleCurrent();
      updateActiveDot();
    };
    const goDown = () => {
      const cs = state.sections[state.currentSection];
      if (cs.currentStep === cs.steps.length - 1) return;
      const last = cs.steps[cs.currentStep];
      if (last) last.classList.add('dimmed');
      cs.currentStep += 1;
      cs.steps[cs.currentStep].classList.remove('hidden');
      updateActiveDot(true);
    };
    const goUp = () => {
      const cs = state.sections[state.currentSection];
      if (cs.currentStep === -1) return;
      cs.steps[cs.currentStep].classList.add('hidden');
      cs.currentStep -= 1;
      updateActiveDot(true);
      if (cs.currentStep === -1) return;
      cs.steps[cs.currentStep].classList.remove('dimmed');
    };
    const goLeft = () => {
      if (state.currentSection === 0) return;
      toggleCurrent();
      state.currentSection -= 1;
      toggleCurrent();
      updateActiveDot();
    };
    bind(
      [['space', 'right'], goRight],
      ['left', goLeft],
      ['down', goDown],
      ['up', goUp],
    );
  </script>
</html>